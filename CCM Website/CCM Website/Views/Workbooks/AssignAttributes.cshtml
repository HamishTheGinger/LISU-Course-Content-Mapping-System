@model int
@using Microsoft.AspNetCore.Mvc.Rendering

@{
    ViewData["Title"] = "Assign Attributes to Week";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<form asp-action="AssignAttributes" asp-controller="Workbooks" method="post">
    @Html.AntiForgeryToken()

    <input type="hidden" name="weekId" value="@ViewBag.WeekId" />

    <h2>Assign Attributes:</h2>
    <div class="form-group">
        @if (ViewBag.GraduateAttributes != null && ViewBag.GraduateAttributes is List<SelectListItem>)
        {
            foreach (var attr in (List<SelectListItem>)ViewBag.GraduateAttributes)
            {
                <div class="form-check">
                    <input type="checkbox" name="attributeIds" value="@attr.Value"
                           class="form-check-input" id="attr-@attr.Value"
                           @(attr.Selected ? "checked" : "")>
                    <label class="form-check-label" for="attr-@attr.Value">@attr.Text</label>
                </div>
            }
        }
        else
        {
            <p>No attributes available</p>
        }
    </div>

    <button type="submit" class="btn btn-success mt-3">Assign Attributes</button>
</form>

