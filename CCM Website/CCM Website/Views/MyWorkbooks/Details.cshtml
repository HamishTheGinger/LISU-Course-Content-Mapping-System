@model CCM_Website.Models.Workbook

@{
    ViewData["Title"] = "Details";
    
}
<link rel="stylesheet" href="~/css/Details.css" asp-append-version="true" />

<!-- Header part above where workbook appears -->
<div class="horizontal-container">

    <h1 class="left-head">Course Code XYZ</h1> 
    <h1 class="right-head">@Html.DisplayFor(model => model.LearningPlatform)</h1>

</div>
<br />

<!-- Main part of workbook page with buttons-->
<div class="container">

    <div class="row">
        <div class="col" >
            <h1 class="left-head">@Html.DisplayFor(model => model.CourseName)</h1>
            <h2 class="left-head">Course Leads: @Html.DisplayFor(model => model.CourseLead)</h2>
        </div>

        <div class="col-sm-auto" >
            <br />
            <a class="edit-workbook" asp-action="Edit" asp-route-id="@Model?.WorkbookId" >Edit Workbook</a>
        </div>

     </div>

    <div class="container-fluid">
        <!-- Row for three columns -->
        <div class="row align-items-stretch">
            <!-- Left Column -->
            <div class="col-md-2 left-column d-flex flex-column">
                <br />
                <br />
                <button id="toggleBreakdownButton" class="toggle-button">Time Breakdown</button>
                <button id="toggleBreakdownGraphButton" class="toggle-button">Time Breakdown Graph</button>
                <button id="toggleGradAttributesButton" class="toggle-button">Graduate Attributes</button>
            </div>

            <!-- Center Column -->
            <div class="col-md-8 center-column d-flex align-items-center justify-content-center">
                <div class="center-column">
                    <div id="graph-container">
                        <div id="legend">
                            <p>Legend Here</p>
                        </div>

                        <div id="time-breakdown">
                            <p>Time breakdown here</p>
                        </div>

                        <div id="time-breakdown-graph">
                            <p>Graph will display here</p>
                        </div>

                        <div id="grad-attributes">
                            <p>Display attributes table here</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Right Column -->
            <div class="col-md-2 right-column d-flex flex-column">
                <button class="week-button">Week 1</button>
                <button class="week-button">Week 2</button>
                <button class="week-button">Week 3</button>
                <button class="week-button">Week 4</button>
                <button class="week-button">Week 5</button>
                <button class="week-button">Week 6</button>
                <button class="week-button">Week 7</button>
                <button class="week-button">Week 8</button>
                <button class="week-button">Week 9</button>
                <button class="week-button">Week 10</button>
                <button class="week-button">Week 11</button>
            </div>

            <div class="row mt-auto justify-content-center">
                <div class="col-auto p-0">
                    <button id="toggleLegendButton" class="toggle-button-bottom">Legend</button>
                </div>
            </div>

        </div>

    </div>

    <div>
        <a asp-action="Edit" asp-route-id="@Model?.WorkbookId">Edit</a> |
        <a asp-action="Index">Back to List</a>
    </div>
</div>

<script>
    // Get the sections and buttons
    var sections = {
        legend: document.getElementById('legend'),
        timeBreakdown: document.getElementById('time-breakdown'),
        timeBreakdownGraph: document.getElementById('time-breakdown-graph'),
        gradAttributes: document.getElementById('grad-attributes')
    };

    var buttons = {
        toggleLegendButton: document.getElementById('toggleLegendButton'),
        toggleBreakdownButton: document.getElementById('toggleBreakdownButton'),
        toggleBreakdownGraphButton: document.getElementById('toggleBreakdownGraphButton'),
        toggleGradAttributesButton: document.getElementById('toggleGradAttributesButton')
    };

    // Function to hide all sections
    function hideAllSections() {
        for (var key in sections) {
            sections[key].style.display = 'none';
        }
    }

    // Add event listeners for each button to show the relevant section
    buttons.toggleLegendButton.addEventListener('click', function() {
        hideAllSections();
        sections.legend.style.display = 'block';
    });

    buttons.toggleBreakdownButton.addEventListener('click', function() {
        hideAllSections();
        sections.timeBreakdown.style.display = 'block';
    });

    buttons.toggleBreakdownGraphButton.addEventListener('click', function() {
        hideAllSections();
        sections.timeBreakdownGraph.style.display = 'block';
    });

    buttons.toggleGradAttributesButton.addEventListener('click', function() {
        hideAllSections();
        sections.gradAttributes.style.display = 'block';
    });
</script>
